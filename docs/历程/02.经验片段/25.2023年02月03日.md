---
file: /Users/zakj/Desktop/work/me/aiyou-blog-s/docs/历程/02.经验片段/25.2023年02月03日.md
github: https://github/aiyoudiao/aiyou-blog-s
archivesPage: false
categoriesPage: false
tagsPage: false
article: true
sidebar: true
title: 2023年02月03日.md
date: 2023-02-03 11:21:29
permalink: /pages/32521480248/
author: 
  name: aiyoudiao
categories:
  - Milestone
tags:
  - 代码片段
update: 2023-02-03 11:21:48
renews: aiyoudiao
copyright: Copyright (c) 2023 哎哟迪奥(码二)
---

今天真是绝了，一个同事不习惯使用forEach方法，就不停的使用map方法，结果她用map不return，就导致eslint报错。  
于是她就疯狂的return，webpack的插件能够正常处理，但是在我写单元测试的时候，就莫名的爆出奇怪的问题。  
当你在单测中 render 页面的时候，造成jest执行单测缓慢，页面组件迟迟渲染不出来，报的错误最开始并不是变量在为定义之前被使用的错误，而是满屏红色，我还以为我单测写错了或者是storybook组件写错了，大项目，难从中找到错误原因，主要是这代码审核通过了。  
哈哈哈哈，切换node，安装依赖，各种排除原因。那个同事离开了，只是需要我补写单测，于是并没有什么交接。这个是三个月前的，线上正常运行，谁能想到会有这奇怪的bug😂。

错误代码示例：  
```jsx
const newList = otherList.map(keyItem => {
    xx.map(item => {
        //...
        return item
    })

    yy.map(item => {
        //...
        return item
    })

    return newList
})

// 下面并没有用到newList，之所以在map里面return newList，就是因为防止eslint报错😂
```
