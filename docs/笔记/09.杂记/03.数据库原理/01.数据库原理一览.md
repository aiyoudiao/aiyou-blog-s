---
file: /Users/zakj/Desktop/work/me/aiyou-blog-s/docs/笔记/09.杂记/03.数据库原理/01.数据库原理一览.md
github: https://github/aiyoudiao/aiyou-blog-s
archivesPage: false
categoriesPage: false
tagsPage: false
article: true
sidebar: true
title: 01.数据库原理一览.md
date: 2023-10-24 14:16:05
permalink: /pages/661351400100/
author: 
  name: aiyoudiao
categories: 
  - 数据库
tags: 
  - 数据库
update: 2023-10-24 14:35:00
renews: aiyoudiao
copyright: Copyright (c) 2023 哎哟迪奥(码二)
---

数据库一览

<!-- more -->


## 关系代数

选择：表示为：Qf(R)，其中，F 为条件表达式，R 为指定的被运算关系名。

投影：表示为：PiA(R)，其中，R 为被运算关系名，A 为属性序列。


## 函数依赖与关键字

完全函数依赖：设 R 为任一给定关系，X、Y 为其属性集，若 X→Y，且对 X 中的任何真子集 X'，都有 X'↛Y，则称 Y 完全函数依赖于 X。

部分函数依赖：设 R 为任一给定关系，X、Y 为其属性集，若 X→Y，且 X 中存在一个真子集 X'，满足 X'→Y，则称 Y 部分函数依赖于 X。

传递函数依赖：设 R 为任一给定关系，X、Y、Z 为其不同属性子集，若 X→Y，Y↛X，Y→Z，则有 X→Z， 称为 Z 传递函数依赖于 X。

候选关键字：设 R 为任一给定关系，U 为其所含的全部属性集合，X 为 U 的子集，若有完全函数依赖 X→U，则 X 为 R 的一个候选关键字。

## 范式与关系规范化过程

第一范式 1NF：设 R 为任一给定关系，如果 R 中每个列与行的交点处的取值都是不可再分的基本元素， 则 R 为第一范式。

第二范式 2NF：设 R 为任一给定关系，若 R 为 1NF，且其所有非主属性都完全函数依赖于候选关键字， 则 R 为第二范式。

第三范式 3NF：设 R 为任一给定关系，若 R 为 2NF，且其每一个非主属性都不传递函数依赖于候选关 键字，则 R 为第三范式。

BCNF：设 R 为任一给定关系，X、Y 为其属性集，F 为其函数依赖集，若 R 为 3NF，且其 F 中所有函数 依赖 X→Y(Y 不属于 X)中的 X 必包含候选关键字，则 R 为 BCNF。

1NF：不含重复组；2NF，消除了非主属性对候选键的部分函数依赖；3NF，消除了非主属性对候 选键的传递函数依赖。

## 数据查询

(1) SELECT：说明：要返回的列或表达式。AS 子句修改列的别名。COUNT(*)筛选全部字段。  
(2) FROM：说明：从中检索数据的表。  
(3) WHERE：说明：指定数据的过滤条件（行级过滤）。  
(4) GROUP BY：说明：分组说明。  
(5) HAVING：说明：过滤分组（组级过滤）。  
(6) ORDER BY：说明：输出排序顺序。ASC 升序（默认）、DESC 降序。  
(7) LIMIT：说明：限制要检索的行数。LIMIT a OFFSET b：从第 b+1 行开始取 a 行。  

## WHERE 子句与条件查询

### 判定范围

1. 查询的过滤条件被限定在值得某个范围：“BETWEEN…AND” 
2. 指定一个值的枚举表：“IN”

### 子查询

1. IN：主要用于判定一个给定值是否存在于子查询的结果集中
2. 比较运算符：主要用于将表达式的值和子查询的结果进行比较运算。ALL、SOME、ANY
3. EXIST：主要用于判定子查询的结果集是否为空。


## 账户权限管理

1. 查看用户授权表：SHOW GRANTS FOR
2. 授予：GRANT 可表示权限的级别有：列权限、表权限、数据库权限、用户权限。
3. 转移：在 GRANT 中添加子句：WITH GRANT OPTION
4. 撤销：REVOKE

## 用户账号管理

1. 创建用户账号：CREATE USER
2. 删除用户：DROP USER
3. 修改用户账号：RENAME USER
4. 修改用户口令：SET PASSWORD

## 视图

1. 创建视图：CREATE VIEW
2. 修改视图：ALTER VIEW
3. 删除视图：DROP VIEW
4. 查看视图定义：SHOW CREATE VIEW
5. 更新视图数据：INSERT 通过视图向基本表插入数据；UPDATE 通过视图修改基本表的数据；DELETE 通过视图删除基本表的数据。

## SQL 的组成

### 数据定义语言（DDL）

1. CREATE：创建数据库、表、视图、索引、存储过程、触发器等。
2. ALTER：修改数据库、表、视图、索引、存储过程、触发器等。
3. DORP：删除数据库、表、视图、索引、存储过程、触发器等。
4. TRUNCATE：删除表中的所有数据，但不删除表的结构。
5. COMMENT：给数据表或者是数据表中的字段添加注释。
6. RENAME：重命名数据库对象。
7.  CREATE SYNONYM：创建同义词。
8.  DROP SYNONYM：删除同义词。
9.  CREATE DATABASE LINK：创建数据库链接。
10. DROP DATABASE LINK：删除数据库链接。
11. ALTER DATABASE：修改数据库的属性。
12. CREATE PROFILE：创建用户配置文件。
13. ALTER PROFILE：修改用户配置文件。
14. DROP PROFILE：删除用户配置文件。
15. CREATE ROLE：创建角色。
16. ALTER ROLE：修改角色。
17. DROP ROLE：删除角色。
18. SET ROLE：设置当前用户的角色。
19. CREATE TABLESPACE：创建表空间。
20. ALTER TABLESPACE：修改表空间。
21. DROP TABLESPACE：删除表空间。
22. CREATE USER：创建用户。
23. ALTER USER：修改用户。
24. DROP USER：删除用户。
25. CREATE VIEW：创建视图。
26. ALTER VIEW：修改视图。
27. DROP VIEW：删除视图。
28. CREATE SEQUENCE：创建序列。
29. ALTER SEQUENCE：修改序列。
30. DROP SEQUENCE：删除序列。
31. CREATE PROCEDURE：创建存储过程。
32. ALTER PROCEDURE：修改存储过程。
33. DROP PROCEDURE：删除存储过程。
34. CREATE FUNCTION：创建函数。
35. ALTER FUNCTION：修改函数。
36. DROP FUNCTION：删除函数。
37. CREATE TRIGGER：创建触发器。
38. ALTER TRIGGER：修改触发器。
39. DROP TRIGGER：删除触发器。
40. CREATE INDEX：创建索引。
41. ALTER INDEX：修改索引。
42. DROP INDEX：删除索引。
43. CREATE PACKAGE：创建包。
44. ALTER PACKAGE：修改包。
45. DROP PACKAGE：删除包。
46. CREATE PACKAGE BODY：创建包体。
47. ALTER PACKAGE BODY：修改包体。
48. DROP PACKAGE BODY：删除包体。
49. CREATE TYPE：创建类型。
50. ALTER TYPE：修改类型。
51. DROP TYPE：删除类型。
52. CREATE TYPE BODY：创建类型体。
53. ALTER TYPE BODY：修改类型体。
54. DROP TYPE BODY：删除类型体。
55. CREATE JAVA：创建 JAVA 类。
56. ALTER JAVA：修改 JAVA 类。
57. DROP JAVA：删除 JAVA 类。
58. CREATE LIBRARY：创建库。
59. ALTER LIBRARY：修改库。
60. DROP LIBRARY：删除库。
61. CREATE OPERATOR：创建操作符。
62. ALTER OPERATOR：修改操作符。
63. DROP OPERATOR：删除操作符。
64. CREATE INDEXTYPE：创建索引类型。
65. ALTER INDEXTYPE：修改索引类型。
66. DROP INDEXTYPE：删除索引类型。
67. CREATE TABLE：创建表。
68. ALTER TABLE：修改表。
69. DROP TABLE：删除表。
70. CREATE CLUSTER：创建簇。
71. ALTER CLUSTER：修改簇。
72. DROP CLUSTER：删除簇。
73. CREATE SEQUENCE：创建序列。
74. ALTER SEQUENCE：修改序列。
75. DROP SEQUENCE：删除序列。
76. CALL：调用一个 PL/SQL 或 Java 子程序
77. COMMIT：提交当前事务
78. ROLLBACK：回滚当前事务
79. SAVEPOINT：设置保存点
80. SET CONSTRAINTS：设置事务的约束级别
81. ALTER SESSION：修改当前会话的属性
82. ALTER SYSTEM：修改数据库的属性

### 数据操纵语言（DML）

1. SELECT：从表或视图中检索数据
2. INSERT：将数据插入到表或视图中
3. UPDATE：更新表或视图中的数据
4. DELETE：从表或视图中删除数据
5. MERGE：根据条件判断执行 INSERT 或者 UPDATE 操作

### 数据控制语言（DCL）

1. GRANT：授予权限
2. REVOKE：撤销权限
3. SET ROLE：设置当前用户的角色
4. SET TRANSACTION：设置事务的隔离级别。
5. LOCK TABLE：锁定数据库中的表，对于锁定的表，其他用户不能对其进行修改。
6.  ANALYZE：分析表、索引、索引组等的信息，收集统计信息。
7.  AUDIT：审计，监视数据库的用户操作。
8.  NOAUDIT：取消审计。
9.  EXPLAIN PLAN：显示 SQL 语句的执行计划。
10. FLASHBACK：恢复数据库中被误删除的数据。（Oracle）


## E-R 图的表示方法

1. 实体型：用矩形表示，矩形框内写明实体的名称。
2. 属性：用椭圆形表示，椭圆内写明属性的名称。
3. 联系：用菱形表 示，菱形框内写明联系的名称，并用无向边分别与有关实体连接起来，同时在无向边旁标上联系的类型， 如果一个联系具有属性，则这些属性也要用无向边与该联系连接起来。
4. 多重性：用无向边旁标明多重性。
5. 参照完整性：用无向边旁标明参照完整性。
6. 主码：用下划线标明主码。
7. 外码：用下划线标明外码。
8. 候选码：用下划线标明候选码。
9. 联合主码：用下划线标明联合主码。
10. 联合外码：用下划线标明联合外码。
11. 联合候选码：用下划线标明联合候选码。

## E-R 图转换为关系模型原则

1. 一个实体型转换为一个关系模式。实体的属性作为关系的属性，实体的码作为关系的码。
2. 一个一对一联系可以转换为一个独立的关系模式，也可以与任意一端对应的关系模式合并。
3. 一个一对多联系可以转换为一个独立的关系模式，也可以与 N 端对应的关系模式合并。
4. 一个多对多联系转换为一个关系模式。
5. 三个或三个以上实体间的一个多元联系可以转换为一个关系模式。
6. 具有相同码的关系模式可合并。

## 数据库基本概念

1. 数据（Data）：描述事务的符号记录，是指用物理符号记录下来的、可以鉴别的信息。
2. 数据库（DB）：指长期储存在计算机中的有组织的、可共享的数据集合。
3. 数据库管理系统（DBMS）：专门用于建立和管理数据库的一套软件，介于应用程序和操作系统之间。
4. 数据库系统(DBS)：指在计算机中引入数据库技术之后的系统。包括：数据库、数据库管理系统以及 相关实用工具、应用程序、数据库管理员和用户。

## 数据库系统的特点

数据库中的数据是按一定的数据模型组织、描述和储存的，它们是相互关联的，具有一致性。  
数据冗余是指同一数据在不同的地方重复出现，造成数据冗余的原因是数据的存储方式不同。  
数据安全性、数据完整性、数据可靠性、数据可恢复性、数据可用性  
数据模型、数据定义语言、数据操纵语言、数据控制语言、数据库管理系统

1. 数据集成性
2. 数据共享性高
3. 数据冗余小
4. 数据一致性
5. 数据独立性高
6. 实施统一管理与控制，即数据库保护
7. 减少应用程序开发与维护的工作量

## 关系数据结构

1. 表：也称为关系，是一个二维的数据结构。一个关系逻辑上对应一张二维表。
2. 列：也称作字段或属性。表中属性的个数称为关系的元或度。
3. 行：也称作元组或记录。
4. 分量：表中的一行即为一个元组，元组中的一个属性值，称为分量。
5. 候选码或候选键：在关系的一个码或键中，不能从中移去任何一个属性，否则它就不是这个关系的 码或键。
6. 全码或全键：一个关系模式的所有属性集合是这个关系的主码或主键。
7. 主码或主键：若干个候选码或候选键中指定一个用来唯一标识关系的元组。
8. 外码或外键：当关系中的某个属性不是这个关系的主码或候选码，而是另一关系的主码时，称该属 性为这个关系的外码或外键。
9. 主属性和非主属性：关系中包含在任何一个候选码中的属性称为主属性或码属性，不包含在任何一 个候选码中的属性称为非主属性或非码属性。
10. 域：表示属性的取值范围。
11. 参照关系和被参照关系：以外码作为主码的关系称为被参照关系（也称为主关系），外码所在的关 系称为参照关系（也称为从关系），被参照关系与参照关系是通过外码相联系的，这种联系通常是 一对多的联系。


## NoSQL 系统支持的数据存储模型

1. 键值存储：NoSQL 数据库采用最多的数据存储方式，适合通过主键进行查询或遍历。
2. 文档存储：适合存储系统日志等非结构化数据，可以通过复杂的查询条件来获取数据。
3. 列存储：比较适合对某一列进行随机查询处理，主要应用于需要处理大量数据的情况。
4. 图存储：图存储数据库是基于图理论构建的，使用结点、属性和边的概念。


## 数据库管理系统的主要功能

1. 数据定义功能
2. 数据操纵功能
3. 数据库的运行管理功能
4. 数据库的建立和维护功能
5. 数据组织、存储和管理功能
6. 其他功能




